<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marcadores com Textos e Cores Específicas</title>
    <style>
        #map {
            height: 500px;
            width: 100%;
            border-radius: 10px;
            border: none;
        }

        body,
        html {
            background-color: black;

        }

        * {
            font-size: 30px;
            color: aliceblue;
        }

        button {
            background-color: rgb(100, 200, 100);
            width: 70%;
            border: none;
            border-radius: 10px;
            color: white;
        }
        input{
            border-radius: 5px;
            border: none;
            width: 70%;
        }
    </style>
</head>

<body>
   <center>
    <label for="Cidade">Cidade:</label><br>
    <input type="text" name="Cidade" id="Cidade"><br>

    <label for="bairro">Bairro:</label><br>
    <input type="text" name="bairro" id="bairro"><br>

    <label for="Rua">Rua:</label><br>
    <input type="text" name="Rua" id="Rua"><br>
    <br>
    <button id="Buscar">Buscar Locais</button>
   </center>

    <script>


        if(localStorage.getItem('latitude')){
            window.location.href = 'locais.html';
        }
        //AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8

        document.getElementById('Buscar').addEventListener('click',()=>{
            
        })



        function geocodeAddress(address, callback) {
            var url = 'https://nominatim.openstreetmap.org/search?format=json&limit=1&q=' + encodeURIComponent(address);

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    if (data.length > 0) {
                        var latitude = data[0].lat;
                        var longitude = data[0].lon;
                        callback(latitude, longitude);
                    } else {
                        console.error("Endereço não encontrado.");
                        callback(null);
                    }
                })
                .catch(error => {
                    console.error('Erro ao processar a requisição:', error);
                    callback(null);
                });
        }

 

               


        geocodeAddress(location.address, function (latitude, longitude) {
                    if (latitude && longitude) {

                        location.lat = parseFloat(latitude)
                        location.lng = parseFloat(longitude)


                        console.log(latitude+' '+longitude)


                    } else {
                        console.error("Não foi possível obter as coordenadas.");
                    }
                });

    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8&callback=initMap"
        async defer></script>
</body>

</html>